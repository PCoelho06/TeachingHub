{% extends 'user/base.html.twig' %}

{% block title %}Mon tableau de bord
{% endblock %}

{% block user_content  %}
	<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
		<div class="col">
			<div class="rounded bg-tile-default py-3 text-center ratio ratio-4x3">
				<div class="d-flex flex-column justify-content-center">
					<p class="fs-1 fw-bold">{{ app.user.documents | length}}</p>
					<h2 class="h3">Documents déposés</h2>
					{% if app.user.documents | length != 0 %}
						<a href="{{ path('user_documents_uploads') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-clipboard-list me-2"></i>
							Accéder à la liste
						</a>
					{% else %}
						<a href="{{ path('document_add') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-file-plus me-2"></i>
							Ajouter un premier document
						</a>
					{% endif %}
				</div>
			</div>
		</div>
		<div class="col">
			<div class="rounded bg-tile-default py-3 text-center ratio ratio-4x3">
				<div class="d-flex flex-column justify-content-center">
					<p class="fs-1 fw-bold">{{ app.user.downloadedDocuments| length }}</p>
					<h2 class="h3">Documents téléchargés</h2>

					{% if app.user.downloadedDocuments | length != 0 %}
						<a href="{{ path('user_documents_downloads') }}" class="btn btn-primary  mx-5">
							<i class="fa-duotone fa-clipboard-list me-2"></i>
							Accéder à la liste
						</a>
					{% else %}
						<a href="{{ path('document_search') }}" class="btn btn-primary  mx-5">
							<i class="fa-duotone fa-download me-2"></i>
							Télécharger mon premier document
						</a>
					{% endif %}
				</div>
			</div>
		</div>
		<div class="col">
			<div class="rounded bg-tile-default py-3 text-center ratio ratio-4x3">
				<div class="d-flex flex-column justify-content-center">
					<p class="fs-1 fw-bold">{{ app.user.favoriteDocuments| length }}</p>
					<h2 class="h3">Documents en favoris</h2>

					{% if app.user.favoriteDocuments | length != 0 %}
						<a href="{{ path('user_documents_favorites') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-clipboard-list me-2"></i>
							Accéder à la liste
						</a>
					{% else %}
						<a href="{{ path('document_search') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-heart-circle-plus me-2"></i>
							Ajouter un document favori
						</a>
					{% endif %}
				</div>
			</div>
		</div>
		<div class="col">
			<div class="rounded bg-tile-default py-3 text-center ratio ratio-4x3">
				<div class="d-flex flex-column justify-content-center">
					<p class="fs-1 fw-bold">{{ app.user.comments|length }}</p>
					<h2 class="h3">Commentaires déposés</h2>

					{% if app.user.documents | length == 0 %}
						<a href="{{ path('document_search') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-comment-plus me-2"></i>
							Déposer mon premier commentaire
						</a>
					{% else %}
						<a href="{{ path('user_documents_comments') }}" class="btn btn-primary mx-5">
							<i class="fa-duotone fa-clipboard-list me-2"></i>
							Accéder à la liste
						</a>
					{% endif %}
				</div>
			</div>
		</div>
		<div class="col col-lg-8">
			<div class="rounded bg-tile-default py-3 text-center">
				<div class="d-flex flex-column justify-content-center">
					<h2>Actions</h2>
					<a href="{{ path('document_add') }}" class="btn btn-sm btn-primary my-3 mx-5">
						<i class="fa-duotone fa-upload me-2"></i>
						Déposer un document
					</a>
					<a href="{{ path('app_contact') }}" class="btn btn-sm btn-primary my-3 mx-5">
						<i class="fa-duotone fa-messages-question me-2"></i>
						Faire une demande / Nous contacter
					</a>
					{% if 'ROLE_ADMIN' in app.user.roles %}
						<a href="{{ path('admin_dashboard') }}" class="btn btn-sm btn-danger my-3 mx-5">
							<i class="fa-duotone fa-tools me-2"></i>
							Administration
						</a>
					{% else %}
						<a href="https://buymeacoffee.com/lapinou.tech" target="_blank" class="btn btn-sm btn-success my-3 mx-5">
							<i class="fa-duotone fa-hand-holding-circle-dollar me-2"></i>
							Soutenir PartageProf
						</a>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
{% endblock %}
